<view class="page">

  <view wx:if="{{form.$invalidMsg && form.$dirty}}" class="invalid">
    {{form.$invalidMsg}}
  </view>

  <view class="page__hd">
    <text class="page__title">中秋歌手大赛投票</text>
  </view>

<!--   <view class="Deadline_location">
    <text>报名截止日期: 09/02/2017</text>
  </view>
  <view class="Deadline_location">
    <text>地点: PMU</text>
  </view> -->
  <form class="page__bd" catchsubmit="formSubmit" catchreset="formReset">
    <view class="section section_gap">
      <view class="section__title">您的姓名：</view>
      <input name="name" type="text" placeholder="{{name}}" bindblur='validate' data-validator='required name' confirm-type='next' focus='true' data-name='name'/>
      <icon wx:if="{{form.name!==undefined}}" type="{{form.name?'success':'warn'}}" size="20" />
    </view>
    <view class="section section_gap">
      <view class="section__title">性别：</view>
      <radio-group class="radio-group" bindchange="radioChange">
         <label wx:for="{{genders}}">
          <radio value="{{item.value}}" checked="{{item.checked}}" style='margin:5rpx'>{{item.name}}</radio>
        </label>
      </radio-group>
    </view>
    <view class="section section_gap">
      <view class="section__title">电话: </view>
      <input name="phone" placeholder="{{phone}}" bindblur='validate' data-validator='required phone' data-name='phone'/>
      <icon wx:if="{{form.phone!==undefined}}" type="{{form.phone?'success':'warn'}}" size="20" />
    </view>
    <view class="section section_gap">
      <view class="section__title">邮箱: </view>
      <input name="email" placeholder="{{email}}" bindblur='validate' data-validator='required email' confirm-type='next' data-name='email'/>
      <icon wx:if="{{form.email!==undefined}}" type="{{form.email?'success':'warn'}}" size="20" />
    </view>
    <view class="section section_gap">
      <view class="section__title">您要唱的曲目：</view>
      <input name="song" placeholder="{{song}}" bindblur='validate' data-validator='required' data-name='song'/>
      <icon wx:if="{{form.song!==undefined}}" type="{{form.song?'success':'warn'}}" size="20" />
    </view>
    <view class="btn-area">
      <button formType="submit" disabled='{{form.$dirty}}'>Submit</button>
      <button formType="reset">Reset</button>
    </view>
    <modal class="modal" hidden="{{modalHidden}}" no-cancel bindconfirm="modalChange">
      <view> 您填写的表单如下 </view>
      <view> 姓名:{{name}} </view>
      <view> 性别:{{gender}} </view>
      <view> 电话:{{phone}}</view>
      <view> 邮箱:{{email}} </view>
      <view> 曲目:{{song}}</view>
    </modal>
  </form>
</view>